{"ast":null,"code":"var _jsxFileName = \"/home/marcos/Desktop/CursoReact/Proyectos/MERNTask/Cliente/src/components/auth/NuevaCuenta.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport alertasContex from \"../../context/alertas/alertasContex\";\nimport AuthContext from \"../../context/auth/authContext\";\n\nconst NuevaCuenta = props => {\n  const alertaContext = useContext(alertasContex);\n  const {\n    alerta,\n    mostrarAlerta\n  } = alertaContext;\n  const authContext = useContext(AuthContext);\n  const {\n    mensaje,\n    autenticado,\n    registraUsuario\n  } = authContext; //en caso de que el usuario ya existe mostrar un mensaje y en caso qe ya \n  //este autenticado redirigir\n\n  useEffect(() => {\n    if (autenticado) {\n      props.history.push('/proyectos');\n    }\n\n    if (mensaje) {\n      mostrarAlerta(mensaje.msg, mensaje.categoria);\n    }\n  }, [mensaje, autenticado, props.history]); //state de datos del usuario\n\n  const [DatosUsuario, setDatosUsuario] = useState({\n    nombre: \"\",\n    email: \"\",\n    password: \"\",\n    confirmar: \"\"\n  }); //sacamos los datos del usuario\n\n  const {\n    nombre,\n    email,\n    password,\n    confirmar\n  } = DatosUsuario;\n\n  const onChange = e => {\n    setDatosUsuario({ ...DatosUsuario,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault(); //validar\n\n    if (nombre.trim() === '' || email.trim() === '' || password.trim() === '' || confirmar.trim() === '') {\n      mostrarAlerta(\"Todos los datos son Obligatorios\", \"alerta-error\");\n      return;\n    } //validacio del password\n\n\n    if (password.length < 6) {\n      mostrarAlerta(\"La constrasenha debe tener maximo 6 caracteres\", \"alerta-error\");\n      return;\n    } //confirmar passweord\n\n\n    if (password !== confirmar) {\n      mostrarAlerta(\"Las constrasenhas no coinciden\", \"alerta-error\");\n      return;\n    } //pasarlo al action\n\n\n    registraUsuario({\n      nombre,\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-usuario \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, alerta ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `alerta ${alerta.categoria}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }\n  }, alerta.msg) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-form sombra-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Obtener Cuenta\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"nombre\",\n    placeholder: \"Tu Nombre\",\n    value: nombre,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Tu Email\",\n    value: email,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Tu Password\",\n    value: password,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  }, \"Confirmar Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"confirmar\",\n    placeholder: \"Repite tu password\",\n    value: confirmar,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Iniciar Sesion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"enlace-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, \"Volver a inicio de Sesion\")));\n};\n\nexport default NuevaCuenta;","map":{"version":3,"sources":["/home/marcos/Desktop/CursoReact/Proyectos/MERNTask/Cliente/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","alertasContex","AuthContext","NuevaCuenta","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","registraUsuario","history","push","msg","categoria","DatosUsuario","setDatosUsuario","nombre","email","password","confirmar","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport alertasContex from \"../../context/alertas/alertasContex\"\nimport AuthContext from \"../../context/auth/authContext\"\n\nconst NuevaCuenta = (props) => {\n\n    const alertaContext = useContext(alertasContex)\n    const {alerta, mostrarAlerta } = alertaContext;\n\n    const authContext = useContext(AuthContext)\n    const { mensaje, autenticado, registraUsuario} = authContext;\n\n    //en caso de que el usuario ya existe mostrar un mensaje y en caso qe ya \n    //este autenticado redirigir\n    useEffect(() => {\n        if(autenticado){\n            props.history.push('/proyectos')\n        }\n\n        if(mensaje){\n            mostrarAlerta(mensaje.msg, mensaje.categoria)\n        }\n    },[mensaje, autenticado, props.history])\n    //state de datos del usuario\n    const [DatosUsuario, setDatosUsuario] = useState({\n        nombre: \"\",\n        email: \"\",\n        password: \"\",\n        confirmar: \"\",\n    });\n\n        //sacamos los datos del usuario\n        const {nombre, email, password, confirmar } = DatosUsuario;\n\n    const onChange = (e) => {\n        setDatosUsuario({\n            ...DatosUsuario,\n            [e.target.name]: e.target.value,\n        });\n    };\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        //validar\n        if(nombre.trim() === '' || email.trim() === '' || password.trim() === '' || confirmar.trim() === '' ) {\n            mostrarAlerta(\"Todos los datos son Obligatorios\", \"alerta-error\")\n            return;\n        }\n\n        //validacio del password\n        if(password.length < 6){\n            mostrarAlerta(\"La constrasenha debe tener maximo 6 caracteres\", \"alerta-error\")\n            return;\n        }\n\n        //confirmar passweord\n        if(password !== confirmar){\n            mostrarAlerta(\"Las constrasenhas no coinciden\", \"alerta-error\")\n            return;\n        }\n        //pasarlo al action\n        registraUsuario({nombre, email, password});\n    };\n\n\n    return (\n        <div className=\"form-usuario \">\n            {alerta ? <div className={`alerta ${alerta.categoria}`}>{alerta.msg}</div> : null}\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Obtener Cuenta</h1>\n\n                <form onSubmit={onSubmit}>\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"email\">Nombre</label>\n                        <input\n                            type=\"text\"\n                            name=\"nombre\"\n                            placeholder=\"Tu Nombre\"\n                            value={nombre}\n                            onChange={onChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input\n                            type=\"email\"\n                            name=\"email\"\n                            placeholder=\"Tu Email\"\n                            value={email}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            placeholder=\"Tu Password\"\n                            value={password}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"password\">Confirmar Password</label>\n                        <input\n                            type=\"password\"\n                            name=\"confirmar\"\n                            placeholder=\"Repite tu password\"\n                            value={confirmar}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <input\n                            type=\"submit\"\n                            className=\"btn btn-primario btn-block\"\n                            value=\"Iniciar Sesion\"\n                        />\n                    </div>\n                </form>\n\n                <Link to={\"/\"} className=\"enlace-cuenta\">\n                    Volver a inicio de Sesion\n                </Link>\n            </div>\n        </div>\n    );\n};\n\nexport default NuevaCuenta;\n"]},"metadata":{},"sourceType":"module"}